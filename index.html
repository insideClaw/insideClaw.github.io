<!DOCTYPE HTML>

<html lang="en">
<title>Transparent Raffle</title>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<body><center>
  <script src="raffle.js"></script>

  PANEL WHAT IS THIS?
  A novel way to draw a random winner for your giveaway. Unlike traditional raffles, this one *cannot be rigged*!
  This is achieved by predetermining a keyphrase (or a seed) told to all the participants, and a time when the raffle will be drawn. Then each participant is assigned a number - like a lottery ticket - which represents their entry.
  For example, this is often the order in which they commented on the giveaway post.
  As the raffle algorithm uses the latest news published by an independent party, even the raffle holder can't know the outcome in advance.
  Best part? There are absolutely no secrets. Anyone can draw the raffle at the given time and get the exact same result! No data is stored.
  Additionally, the code is Open Source and can be inspected for even further transparency.

  <br><div class="container-fluid"><strong>
    <div class="alert alert-success">
      (1) Enter raffle ID (seed) to check for: <input type="text" id="input_raffleRef">
    </div>
    <div class="alert alert-success">
      (2) Enter number of participants: <input type="number" id="input_participants">
    </div></strong>

    <div class="alert alert-info">
      (3) Impartial external seed: <div id=news><i>will be derived automatically from The Guardian</i></div>
    </div>
  </div>





  <div class="container">
    <button type="button" class="btn btn-primary btn-lg" onClick="drawRaffle()">Check who wins!</button><br><br>
    <div class="jumbotron">
      <h1><span class="label label-primary" id="result">#</span></h1><br>
      <span class="label label-success" id="time-fetched">Result fetched at </span><br>
      <span class="label label-info" id="time-news-published">News published at </span>
    </div>
  </div>

  <button data-toggle="collapse" data-target="#extrainfo">Additional information</button>
  <div id="extrainfo" class="collapse">
    <ul class="list-group">
      <li class="list-group-item">Using any predetermined seed and the number of total participants at time of raffle close, fairly pick a raffle winner in a way that's reverse-engineerable, yet the outcome is unknown until the end.</li>
      <li class="list-group-item">You need to give out raffle numbers to people - for example:<br>
      Raffle # = comment order (1 per person)</li>
      <li class="list-group-item">The very purpose is that the code is Open Source and transparently <a href="https://github.com/insideClaw/insideclaw.github.io" target="_blank">available for inspection.</a> Anyone can verify the result at the time it happened, with some effort even retroactively.</li>
      <li class="list-group-item">Bear in mind news are sometimes published in rapid succession, so the result for the same seed and participants is only the same for any given time while the latest news last.</li>
      <li class="list-group-item">Designed and created by <a href="https://www.linkedin.com/in/mariostaykov/" target="_blank">Mario Staykov</a></li>
    </ul>
  </div>

</body>

</html>
